import random
from strassens_algorithm import *
def Matrix_Vector_Multiply(A,r):
    result = []
    for i in range(len(A)):
        s = 0
        for j in range(len(r)):
            s += A[i][j]*r[j]
        result.append(s)
    return result
def FrievaldsAlgorithm(A,B,C,k):
    for i in range(k):
        r  = [random.randint(0,1) for x in range(len(C[0]))]
        print(r)
        if Matrix_Vector_Multiply(A,Matrix_Vector_Multiply(B,r)) != Matrix_Vector_Multiply(C,r):
            return False

        r  = [1-r[x] for x in range(len(C[0]))]
        print(r)
        if Matrix_Vector_Multiply(A,Matrix_Vector_Multiply(B,r)) != Matrix_Vector_Multiply(C,r):
            return False
    return True

A = [[4,1,1,0,0,1,1,0,5,1,1,0,0,1,1,0],
     [0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [6,1,1,0,0,1,1,0,0,1,1,0,0,1,1,5],
     [8,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [9,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [0,1,4,0,0,1,1,9,0,1,1,0,0,1,1,0],
     [0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [4,1,1,0,0,1,1,0,5,1,1,0,0,1,1,0],
     [0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [6,1,1,0,0,1,1,0,0,1,1,0,0,1,1,5],
     [8,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [9,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [0,1,4,0,0,1,1,1,0,1,1,0,0,1,1,0],
     [0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0]
     ]
B = [[4,1,1,0,0,1,1,0,5,1,1,0,0,1,1,0],
     [0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [6,1,1,0,0,1,1,0,0,1,1,0,0,1,1,5],
     [8,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [9,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [0,1,4,0,0,1,1,1,0,1,1,0,0,1,1,0],
     [0,1,1,0,0,1,1,0,6,1,1,0,0,1,1,0],
     [0,1,1,0,0,1,1,0,0,7,1,0,0,1,1,0],
     [5,1,1,0,0,1,1,0,4,1,1,0,0,1,1,0],
     [0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [6,1,1,0,0,8,1,0,0,1,1,0,0,1,1,5],
     [8,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [9,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [0,1,4,0,0,1,1,1,0,1,1,0,0,1,1,0],
     [0,4,1,0,0,1,1,0,0,1,1,0,0,1,1,0],
     [0,1,1,0,3,1,1,0,0,1,1,0,0,1,1,0]
     ]
C = SquareMatrixMultiplyRecursive(A,B)
C[5][5] = 0
print(FrievaldsAlgorithm(A,B,C,10))
